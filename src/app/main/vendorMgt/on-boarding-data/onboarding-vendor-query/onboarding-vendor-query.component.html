
<div
    appBsModal
    #queryVendor="bs-modal"
    (onShown)="onShown()"
    class="modal fade"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
    [config]="{ backdrop: 'static' }"
>
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"> Enquiry </h5>
                <button
                    type="button"
                    class="close"
                    (click)="closeQueryModal()"
                    [attr.aria-label]="l('Close')"
                >
                    <i aria-hidden="true" class="ki ki-close icon-2x"></i>
                </button>
            </div>

            <div class="modal-body">
                <form  #queryForm="ngForm" novalidate autocomplete="off"  (ngSubmit)="sendQuery()">

                    <div class="row align-items-center">
                        <div
                            class="primeng-datatable-container"
                            [busyIf]="primengTableHelper.isLoading">
                            <div *ngFor="let i of queryDto.result">
                                <div style="padding: 20" class="row">
                                    <div
                                        style="width: 45%"
                                        class="col-md-6">
                                        <div
                                        *ngIf="i.queryResponse && i.queryResponse.length > 1"
                                        >
                                            <br /><br /><br />
                                            <div
                                                class="customer message__text last"
                                            >
                                                <div>
                                                    {{
                                                        i.queryResponse
                                                            | slice: 0:50
                                                    }}
                                                    <a href=":;"></a>
                                                    <button
                                                        class="btn"
                                                        type="button"
                                                        popover="{{
                                                            i.queryResponse
                                                        }}"
                                                        popoverTitle="Full Message"
                                                        placement="top"
                                                    >
                                                        {{
                                                            "...show more!"
                                                        }}
                                                    </button>
                                                </div>

                                                <div
                                                    style="
                                                        font-size: 9px;
                                                        text-align: left;
                                                        font-weight: bold;
                                                    "
                                                >
                                                    {{
                                                        i.responseDate
                                                            | date: 'MMM d, y, h:mm:ss a'
                                                    }}
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="col-md-6"
                                        style="width: 45%"
                                    >
                                        <div
                                            class="team message__text last"
                                        >
                                            <div>
                                                {{ i.queryMessage | slice: 0:50 }}
                                                <button
                                                    class="btn"
                                                    type="button"
                                                    popover="{{ i.queryMessage }}"
                                                    popoverTitle="Full Message"
                                                    placement="top"
                                                >
                                                    {{ "...show more!" }}
                                                </button>
                                            </div>

                                            <div
                                                style="
                                                    font-size: 9px;
                                                    text-align: left;
                                                    font-weight: bold;
                                                "
                                            >
                                                {{
                                                    i.entryDate
                                                        | date: 'MMM d, y, h:mm:ss a'
                                                }}
                                            </div>
                                            <div
                                                style="
                                                    font-size: 9px;
                                                    text-align: right;
                                                    font-weight: bold;
                                                "
                                            >
                                                {{ i.queryInitiator }}
                                            </div>
                                        </div>
                                        <br /><br /><br />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row">




                        <div class="col-md-6">
                            <br>
                            <textarea
                                class="form-control rounded"
                                required
                                maxlength="500"
                                name="query"
                                [(ngModel)]="queryMessage"
                                placeholder="{{
                                    'Enter enquiry here.  max. xter 500'
                                        | localize
                                }}"
                                style="resize: none;"
                            >
                            </textarea>
                        </div>
                        <div class="col-md-2 text-right">
                            <br>
                            <button
                                type="submit"


                                class="btn btn-primary"
                                [disabled]="!queryForm.form.valid "
                                [buttonBusy]="saving"
                                [busyText]="l('SavingWithThreeDot')"

                            >
                                {{ "Send" | localize }}
                            </button>
                        </div>
                    </div>

                 </form>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" (click)="closeQueryModal()">
                    {{ "Cancel" | localize }}
                </button>
            </div>
            <!-- {{splitcostForm.value | json}} -->
        </div>
    </div>
</div>











<div
    appBsModal
    #VendorQueryResponse="bs-modal"
    (onShown)="onShown()"
    class="modal fade"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
    [config]="{ backdrop: 'static' }"
>
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Enquiry Response Details</h5>
                <button
                    type="button"
                    class="close"
                    (click)="closeVendorQueryResponse()"
                    [attr.aria-label]="l('Close')"
                >
                    <i aria-hidden="true" class="ki ki-close icon-2x"></i>
                </button>
            </div>

            <div class="modal-body">
                <div class="row align-items-center">
                    <div
                        class="primeng-datatable-container"
                        [busyIf]="primengTableHelper.isLoading"
                    >
                        <div *ngFor="let i of queryDto.result">
                            <div style="padding: 20" class="row">
                                <div
                                    style="width: 45%"
                                    class="col-md-6"
                                >
                                    <div
                                    *ngIf="i.queryResponse && i.queryResponse.length > 1"
                                    >
                                        <br /><br /><br />
                                        <div
                                            class="customer message__text last"
                                        >
                                            <div>
                                                {{
                                                    i.queryResponse
                                                        | slice: 0:50
                                                }}
                                                <a href=":;"></a>
                                                <button
                                                    class="btn"
                                                    type="button"
                                                    popover="{{
                                                        i.queryResponse
                                                    }}"
                                                    popoverTitle="Full Message"
                                                    placement="top"
                                                >
                                                    {{
                                                        "...show more!"
                                                    }}
                                                </button>
                                            </div>

                                            <div
                                                style="
                                                    font-size: 9px;
                                                    text-align: left;
                                                    font-weight: bold;
                                                "
                                            >
                                                {{
                                                    i.responseDate
                                                        | date: 'MMM d, y, h:mm:ss a'
                                                }}
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="col-md-6"
                                    style="width: 45%"
                                >
                                    <div
                                        class="team message__text last"
                                    >
                                        <div>
                                            {{ i.queryMessage| slice: 0:50 }}
                                            <button
                                                class="btn"
                                                type="button"
                                                popover="{{ i.queryMessage }}"
                                                popoverTitle="Full Message"
                                                placement="top"
                                            >
                                                {{ "...show more!" }}
                                            </button>
                                        </div>

                                        <div
                                            style="
                                                font-size: 9px;
                                                text-align: left;
                                                font-weight: bold;
                                            "
                                        >
                                            {{
                                                i.entryDate
                                                | date: 'MMM d, y, h:mm:ss a'
                                            }}
                                        </div>
                                        <div
                                            style="
                                                font-size: 9px;
                                                text-align: right;
                                                font-weight: bold;
                                            "
                                        >
                                            {{ i.queryInitiator }}
                                        </div>
                                    </div>
                                    <br /><br /><br />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" (click)="closeVendorQueryResponse()">
                    {{ "Cancel" | localize }}
                </button>
            </div>
            <!-- {{splitcostForm.value | json}} -->
        </div>
    </div>
</div>





